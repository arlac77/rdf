#!/usr/bin/env iojs

"use strict";

var fs = require('co-fs');
var co = require('co');
	// ,sparql    = require('promised-sparql')

var	Commander = require('commander');

Commander
	.option('-s --scenario <scenario>', 'use scenario')
	.option('-m --mapping <magging>', 'mapping scenario <> rdf')
	.option('-e --endpoint <url>', 'sparql endpoint')
	.parse(process.argv);

co(start(Commander));

function * start(args) {
	if (args.scenario && args.mapping) {
		const c1 =
			yield fs.readFile(args.scenario);
		const c2 =
			yield fs.readFile(args.mapping);

		const scneario = JSON.parse(c1);
		const mapping = JSON.parse(c2);

    const client = {}; // sparql(Commander.endpoint);

    exec(client, mapping, scneario);
	}
}


function exec(client, mapping, scenario) {
  console.log("mapping: " + JSON.stringify(mapping));
}
